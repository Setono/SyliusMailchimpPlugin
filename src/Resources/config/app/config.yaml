imports:
    - { resource: "@SetonoSyliusMailchimpPlugin/Resources/config/grids/setono_sylius_mailchimp_admin_audience.yaml" }

framework:
    messenger:
        buses:
            setono_sylius_mailchimp.command_bus: ~
            
sylius_grid:
    templates:
        action:
            setono_sylius_mailchimp_load_audiences: "@SetonoSyliusMailchimpPlugin/Admin/Grid/Action/load_audiences.html.twig"
            setono_sylius_mailchimp_repush_customers: "@SetonoSyliusMailchimpPlugin/Admin/Grid/Action/repush_customers.html.twig"

winzou_state_machine:
    sylius_order_checkout:
        callbacks:
            after:
                setono_mailchimp_subscribe_customer:
                    on: ["complete"]
                    do: ["@setono_sylius_mailchimp.handler.orders_customer_subscription", "handle"]
                    args: ["object"]
                setono_mailchimp_export_order:
                    on: ["complete"]
                    do: ["@setono_sylius_mailchimp.handler.order_export", "handle"]
                    args: ["object"]
#                setono_mailchimp_cancel_order:
#                    on: "cancel"
#                    do: ["@setono_sylius_mailchimp.handler.order_remove", "handle"]
#                    args: ["object"]
